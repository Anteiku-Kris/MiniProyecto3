{% extends 'base.html' %}
{% load static %}

{% block content %}
    <h2>Perfil de {{ user.username }}</h2>
    <!-- Mostrar la foto de perfil actual -->
    {% if profile.profile_picture %}
        <img src="{{ profile.profile_picture.url }}" alt="Foto de perfil">
    {% else %}
        <p>No hay foto de perfil</p>
    {% endif %}

    <!-- Mostrar información del usuario -->
    <p>Nombre: {{ user.username }}</p>
    <p>Email: {{ user.email }}</p>

    <!-- Mostrar información del perfil -->
    <h3>Información del Perfil</h3>
    <p>Bio: {{ profile.bio }}</p>

    <!-- Botón para mostrar/ocultar el panel de edición -->
    <button id="editarPerfilBtn">Editar perfil</button>

    <!-- Panel de edición (inicialmente oculto) -->
    <div id="panelEdicion" style="display: none;">
        <!-- Formulario para actualizar la foto de perfil -->
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Guardar foto de perfil</button>
        </form>
        <!-- Agrega aquí más campos de edición según sea necesario -->
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Obtener referencias a los elementos del DOM
            const editarPerfilBtn = document.getElementById("editarPerfilBtn");
            const panelEdicion = document.getElementById("panelEdicion");

            // Agregar un controlador de eventos al botón
            editarPerfilBtn.addEventListener("click", function () {
                // Alternar la visibilidad del panel al hacer clic en el botón
                panelEdicion.style.display = panelEdicion.style.display === "none" ? "block" : "none";
            });
        });
    </script>
{% endblock %}
